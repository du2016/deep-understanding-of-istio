# 部署模型

在配置Istio的生产部署时，您需要回答许多问题。将网格限制为单个集群或分布在多个集群中？是将所有服务都放置在单个完全连接的网络中，还是需要网关才能跨多个网络连接服务？有没有一个 控制平面，可能在群集之间共享，还是部署了多个控制平面以确保高可用性（HA）？是否所有集群都将连接成一个集群多集群 服务网格，或者将它们联合成一个 多网 部署？

所有这些问题，除其他外，都代表Istio部署的独立配置维度。

- 单个或多个群集
- 单个或多个网络
- 单或多控制平面
- 单个或多个网格

在涉及多个集群的生产环境中，您可以使用多种部署模型。例如，对于HA建议使用多个控制平面，但是对于3个集群部署，您可以通过使用单个共享控制平面部署2个集群，然后在另一个网络中添加第三个集群和第二个控制平面来实现。然后，可以将所有三个集群配置为共享两个控制平面，以便所有集群都有2个控制源来确保HA。

选择正确的部署模型取决于您的用例的隔离性，性能和HA要求。本指南描述了配置Istio部署时的各种选项和注意事项。

# 集群模型

您的应用程序的工作负载实例在一个或多个集群中运行。为了实现隔离，性能和高可用性，您可以将群集限制在可用性zone和region中。

根据需求，生产系统可以跨多个区域或区域的多个集群运行，从而利用云负载均衡器来处理诸如本地性，区域性或区域性故障转移之类的事情。

在大多数情况下，群集代表配置和端点发现的边界。例如，每个Kubernetes集群都有一个API服务器，该服务器管理集群的配置并提供service endpoint 关于pod启停时的信息。由于Kubernetes在每个群集的基础上配置此行为，因此这种方法有助于限制由于配置错误而引起的潜在问题。

在Istio中，您可以配置单个服务网格以跨越任意数量的集群。